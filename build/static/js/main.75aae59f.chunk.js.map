{"version":3,"sources":["components/Home.js","components/Wasteitem.js","base.js","components/Confirmation.js","components/History.js","googlemaps/googlemaps.js","onemap/onemap.js","App.js","serviceWorker.js","index.js"],"names":["Home","class","href","id","Button","variant","color","size","component","RouterLink","to","Component","Wasteitem","state","plastic_bottle","batteries","handleChange","input","e","setState","target","value","this","currentstate","AppBar","title","Grid","container","direction","justify","alignItems","TextField","style","margin","width","type","placeholder","helperText","onChange","pathname","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","base","Rebase","createClass","database","Confirmation","updateFirebase","to_email","user_email","orderdetails","newOrderKey","ref","child","push","key","updates","templateParams","to_name","order_id","emailjs","send","update","props","location","wasteRef","syncState","context","removeBinding","onClick","History","getOrders","fetch","then","data","JSON","stringify","mapStyles","height","MapContainer","activeMarker","selectedPlace","showingInfoWindow","lat","long","getLocation","bind","getCoordinates","navigator","geolocation","getCurrentPosition","console","log","position","Number","coords","latitude","lng","longitude","error","code","PERMISSION_DENIED","alert","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","currentCoordinates","google","zoom","center","name","GoogleApiWrapper","myIcon","L","tileLayer","detectRetina","maxZoom","minZoom","attribution","icon","iconUrl","iconSize","iconAnchor","popupAnchor","Onemap","bins","ThemeDetails","res","json","result","SrchResults","Map","className","TileLayer","url","Marker","Popup","App","path","exact","Wasteitems","GoogleMapPage","Boolean","window","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.75aae59f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link as RouterLink} from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button'\r\nimport './Home.css'\r\n\r\n// This is a class based component (forgot what it's proper name is called). The other option is\r\n// a functional component. Class based components offer more flexibility though.\r\n\r\nclass Home extends Component{\r\n\r\n    // Functions/Methods, if any, go here. See other pages for example\r\n\r\n  render(){\r\n\r\n    // Functions to be run should be put here. And other stuff that I'm probably not aware of.\r\n    // Note that ComponentWillMount() etc will be above in the function area (see Wasteitem.js)\r\n    // These special functions will, generally speaking, run before anything is loaded\r\n\r\n    // Return is basically the html for whatever you want displayed. \r\n    // Note that you can only return one html element, so in this case i wrapped everything in \r\n    // <div class=\"home_content\">\r\n\r\n    return(\r\n        <div class=\"home_content\">\r\n\r\n            {/* Bar that appears at the top */}\r\n            <nav class=\"navbar\">\r\n                {/* Apparently using #home jumps to that section on the page based on Section id */}\r\n                <ul>\r\n                    <li><a href=\"#home\">Home</a></li>\r\n                    <li><a href=\"#plastic\">Plastic</a></li>\r\n                    <li><a href=\"#ewaste\">E-Waste</a></li>\r\n                    <li><a href=\"#letsgo\">Let's Go</a></li>\r\n                </ul>\r\n            </nav>\r\n\r\n            {/* These are the sections that appear on the page. Smooth scrolling is implemented in CSS\r\n                because everything else is too advanced for me. Removing CSS would just make it a\r\n                normal webpage */}\r\n            <section id=\"home\">\r\n                <h1>Welcome!</h1>\r\n                <p>This is our webapp!</p>\r\n            </section>\r\n\r\n            <section id=\"plastic\">\r\n                <h1>Plastic</h1>\r\n                <p>Recycle used bottles and containers!</p>\r\n            </section>\r\n\r\n            <section id=\"ewaste\">\r\n                <h1>E-waste</h1>\r\n                <p>Recycle batteries and used computers!</p>\r\n            </section>\r\n\r\n            <section id=\"letsgo\">\r\n                <Button \r\n                    variant=\"contained\" color=\"primary\" size=\"large\" \r\n                    component={RouterLink} to=\"/waste-items\">\r\n                        Let's Go!\r\n                </Button>\r\n                <br/>\r\n                <Button \r\n                    variant=\"contained\" color=\"primary\" size=\"large\" \r\n                    component={RouterLink} to=\"/map\">\r\n                        View Google Map\r\n                </Button>\r\n                <br/>\r\n                <Button \r\n                    variant=\"contained\" color=\"primary\" size=\"large\" \r\n                    component={RouterLink} to=\"/onemap\">\r\n                        View Onemap\r\n                </Button>\r\n            </section>\r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\n// Remember to export so that you can use this component elsewhere\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Link as RouterLink} from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport './Wasteitem.css'\r\nimport { Grid } from '@material-ui/core';\r\n\r\nclass Wasteitem extends Component{\r\n\r\n    // This is a state that holds the current values of variables we are interested in.\r\n    // In this case, they are count for plastic bottles and batteries\r\n    state = {\r\n        plastic_bottle: '',\r\n        batteries: ''\r\n    }\r\n    \r\n    // Handle Change to text fields\r\n    // Honestly not entirely clear how this works, but I believe it's the handleChange('[input]')\r\n    // which determines which fields are updated in props. Something like that :)\r\n    handleChange = input => e => {\r\n        this.setState({[input]: e.target.value})\r\n    }\r\n\r\n    \r\n\r\n  render(){\r\n    const { currentstate } = this.state\r\n    \r\n    return(\r\n        <div class=\"waste_item_content\">\r\n            {/* MuiThemeProvider only accepts one element, so everyting is wrapped in a div*/}\r\n            <MuiThemeProvider>\r\n            <div>\r\n                {/* Material UI comes with an AppBar, but I'm not sure if you can use it across\r\n                multiple pages */}\r\n                <AppBar title=\"Select stuff you want to dispose!\"/>\r\n                \r\n                {/* Grid is used for formatting */}\r\n                <Grid\r\n                    container\r\n                    direction=\"column\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\">\r\n                <TextField class=\"textFields\"\r\n                    style={{ margin: 8, width: 200 }}\r\n                    size='medium'\r\n                    type=\"number\"\r\n                    placeholder=\"Enter quantity\"                   \r\n                    helperText=\"Plastic Bottles\"\r\n                    onChange={this.handleChange('plastic_bottle')} />\r\n\r\n                <TextField class=\"textFields\"\r\n                    style={{ margin: 8, width: 200 }}\r\n                    size='medium'\r\n                    type=\"number\"\r\n                    placeholder=\"Enter quantity\"\r\n                    helperText=\"Batteries\"\r\n                    onChange={this.handleChange('batteries')} /> \r\n\r\n                </Grid>\r\n\r\n                {/* This is just to illustrate props and setting of state\r\n                    State isn't saved when browsing to another page i.e. quantities will reset\r\n                    Holding information on previous state should be possible but I think it's\r\n                    quite difficult. */}\r\n\r\n                <p>No of bottles: {this.state.plastic_bottle}</p>\r\n                <p>No of batteries: {this.state.batteries}</p>\r\n\r\n                {/* This button serves as a link, uses react-router \r\n                    Uses react-router {Link} to:Object,\r\n                    sets pathname to '/Confirmation' (see App.js for Router Switch implementation)\r\n                    and passes the current state to the next component (i.e. Confirmation) */}\r\n                <div class=\"confirm_button\">\r\n                    <Button \r\n                        variant=\"contained\" color=\"primary\" size=\"large\" \r\n                        component={RouterLink} \r\n                        to={{\r\n                            pathname:'/Confirmation', \r\n                            state: this.state\r\n                        }}>\r\n                        Proceed!\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            </MuiThemeProvider>\r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default Wasteitem;\r\n","// This is for linking to firebase\r\n// Possible to put in an .env file, but I don't wanna do it coz it looks complicated\r\nimport Rebase from 're-base'\r\nimport firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAJC89W4Ri_RMi47vXwaB--Krtjz83_FRY\",\r\n    authDomain: \"neadatabase.firebaseapp.com\",\r\n    databaseURL: \"https://neadatabase.firebaseio.com\",\r\n    projectId: \"neadatabase\",\r\n    storageBucket: \"neadatabase.appspot.com\",\r\n    messagingSenderId: \"545938314026\",\r\n    appId: \"1:545938314026:web:4f2a985d905f3eb3224453\",\r\n    measurementId: \"G-9H01WLR7DF\"\r\n  };\r\n\r\n  const app = firebase.initializeApp(firebaseConfig)\r\n  const base = Rebase.createClass(app.database())\r\n\r\n  export { base }","import React, { Component } from 'react';\r\nimport { Link as RouterLink} from 'react-router-dom';\r\nimport { base } from '../base.js'\r\nimport firebase from 'firebase'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport './Wasteitem.css'\r\nimport emailjs from 'emailjs-com'\r\nimport { EmailJSResponseStatus } from 'emailjs-com';\r\n\r\n// This component receives Props (aka variables/state) from previous page(Wasteitem)\r\n// It prints the state from the previous page, passed through the Link from react-router\r\n// Authentication to firebase is done in base.js\r\n\r\nclass Confirmation extends Component{\r\n    \r\n    // State for Confirmation depends on props passed from Wasteitem\r\n    state = {}\r\n\r\n    //user_email= ''\r\n\r\n\r\n    // This runs when component mounts (basically when it appears on the page\r\n    componentDidMount(){\r\n        // Sets state of Confirmation to be the same as props passed in from Wasteitem\r\n        this.setState(\r\n            this.props.location.state\r\n        )\r\n    }\r\n\r\n    // Based on my experimenation, this seems to run more often? Some complicated shit going on here!\r\n    // Something to do with react-app lifecycles\r\n    componentWillMount(){\r\n        this.wasteRef = base.syncState('waste', {\r\n            context: this,\r\n            state: 'waste'\r\n        })\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        base.removeBinding(this.wasteRef)\r\n    }\r\n\r\n    // Send update to firebase\r\n    // Can also be tweaked to include completion callback\r\n    updateFirebase = () => {\r\n        var to_email = this.state.user_email\r\n        delete this.state.user_email\r\n        var orderdetails = this.state\r\n        var newOrderKey = firebase.database().ref().child('orders').push().key;\r\n        var updates = {}\r\n        const templateParams = {\r\n            to_name: 'Human',\r\n            order_id: newOrderKey,\r\n            to_email: to_email\r\n        };\r\n        updates['/orders/' + newOrderKey] = orderdetails\r\n        emailjs.send('gmail','template_8MKL7Ui0_clone', templateParams, 'user_v3HTSBe6LX8JIwU6pC5w0')\r\n        return firebase.database().ref().update(updates)\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({user_email: e.target.value})\r\n      }\r\n\r\n\r\n  render(){\r\n    // console.log is useful for debugging, you can see it update in Chrome under Inspect Element > Console\r\n    //console.log(this.state)\r\n\r\n    return(\r\n        <div class=\"confirmation_page\">\r\n\r\n                {/* This is an example of how to print from this.state. \r\n                    Remember to wrap in {} when you do it. */}                \r\n                <p>No of bottles: {this.state.plastic_bottle}</p>\r\n                <p>No of batteries: {this.state.batteries}</p>\r\n                <p>Email: {this.state.user_email}</p>\r\n\r\n                <TextField class=\"textFields\"\r\n                    style={{ margin: 8, width: 200 }}\r\n                    size='medium'\r\n                    placeholder=\"Enter email\"                   \r\n                    helperText=\"Enter your email here!\"\r\n                    onChange={this.onChange} />\r\n\r\n                {/* This button serves as a link, uses react-router.\r\n                    onClick runs this.updateFirebase (see above) which adds the info to the\r\n                    Firebase database. I don't understand the syntax but something like this\r\n                    works */}\r\n                <div class=\"confirm_button\">\r\n                    <Button \r\n                        variant=\"contained\" color=\"primary\" size=\"large\"  \r\n                        onClick={() => this.updateFirebase()}\r\n                        component={RouterLink} to=\"/\">\r\n                        Confirm!\r\n                    </Button>\r\n                </div>\r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default Confirmation;\r\n","// This is a placeholder for checking order histories\r\n// May be useful when we actually implement the thingy in user profile\r\n// Access this by manually typing /History at the url bar\r\n\r\nimport React, { Component } from 'react';\r\nimport { Link as RouterLink} from 'react-router-dom';\r\nimport { base } from '../base.js'\r\nimport Button from '@material-ui/core/Button'\r\nimport './Wasteitem.css'\r\n\r\n// This component receives props (aka variables/state) from previous page(Wasteitem)\r\n// It prints the state from the previous page, passed through the Link from react-router\r\n\r\nclass History extends Component{\r\n    \r\n    // Initial state set to empty\r\n    state = {}\r\n\r\n    // When component mounts, retrieve data from firebase\r\n    componentWillMount(){\r\n        this.getOrders()\r\n    }\r\n\r\n    // Reads data from firebase as an object\r\n    // Can try to clean up this data, super messy in this form\r\n    getOrders(){\r\n        base.fetch('orders', {\r\n            context: this,\r\n            //asArray: true,\r\n            then(data){\r\n                this.setState(data)\r\n            }\r\n        })\r\n    }\r\n    \r\n    \r\n\r\n\r\n  render(){\r\n    \r\n    // console.log is useful for debugging, you can see it update in Chrome under Inspect Element > Console\r\n    return(\r\n        <div class=\"history_page\">\r\n            {/* stringify used because you can't display objects */}\r\n            <h1>Past Orders</h1>\r\n            <p>{JSON.stringify(this.state)}</p>\r\n\r\n            {/* This button serves as a link, uses react-router */}\r\n            <div class=\"home_button\">\r\n                <Button \r\n                    variant=\"contained\" color=\"primary\" size=\"large\"  \r\n                    component={RouterLink} to=\"/\">\r\n                    Home\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default History;\r\n","import React, { Component } from 'react';\r\nimport { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';\r\n\r\nconst mapStyles = {\r\n    width: '80%',\r\n    height: '80%'\r\n  };\r\n\r\n\r\nexport class MapContainer extends Component {\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            activeMarker: {},\r\n            selectedPlace:{},\r\n            showingInfoWindow: false,\r\n            lat: '',\r\n            long: ''\r\n        }\r\n        this.getLocation = this.getLocation.bind(this)\r\n        this.getCoordinates = this.getCoordinates.bind(this)\r\n    }\r\n      \r\n\r\n    getLocation(){\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(this.getCoordinates)\r\n        }\r\n        else{\r\n            console.log(\"Error\")\r\n        }\r\n    }\r\n\r\n\r\n    getCoordinates(position){\r\n        this.setState({\r\n            lat: Number(position.coords.latitude),\r\n            lng: Number(position.coords.longitude)\r\n        })\r\n    }\r\n\r\n    handleLocationError(error){\r\n        switch(error.code) {\r\n            case error.PERMISSION_DENIED:\r\n            alert(\"User denied the request for Geolocation.\")\r\n            break;\r\n            case error.POSITION_UNAVAILABLE:\r\n            alert(\"Location information is unavailable.\")\r\n            break;\r\n            case error.TIMEOUT:\r\n            alert(\"The request to get user location timed out.\")\r\n            break;\r\n            case error.UNKNOWN_ERROR:\r\n            alert(\"An unknown error occurred.\")\r\n            break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n  render() {\r\n    // Gets and udpates current coordinates based on HTML5 Geolocation  \r\n    this.getLocation()\r\n\r\n    // Stores coordinates in object currentCoordinates\r\n    var currentCoordinates = {lat: this.state.lat, lng: this.state.lng}\r\n\r\n    return (\r\n      <div>\r\n            <p>Lat: {this.state.lat}</p>\r\n            <p>Long: {this.state.lng}</p>\r\n            <Map\r\n                google={this.props.google}\r\n                zoom={18}\r\n                style={mapStyles}\r\n                center={currentCoordinates}\r\n            >\r\n                <Marker \r\n                    title={'You are here!'}\r\n                    name={'Current Location'}\r\n                    position={currentCoordinates}\r\n                />\r\n                \r\n            </Map>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: 'AIzaSyAwBgI9uqnUAlslEI-48KZbaer7Ih0EUjw'\r\n})(MapContainer);","import React, { Component } from 'react'\r\nimport L from 'leaflet'\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport './onemap.css'\r\n\r\n// eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjM5NjIsInVzZXJfaWQiOjM5NjIsImVtYWlsIjoiYW5kcmV3d2VlOTdAZ21haWwuY29tIiwiZm9yZXZlciI6ZmFsc2UsImlzcyI6Imh0dHA6XC9cL29tMi5kZmUub25lbWFwLnNnXC9hcGlcL3YyXC91c2VyXC9zZXNzaW9uIiwiaWF0IjoxNTgyNDczNjM1LCJleHAiOjE1ODI5MDU2MzUsIm5iZiI6MTU4MjQ3MzYzNSwianRpIjoiZTE0NzhmNmVkYjRlOTdhNmQ1YmU3MWIyOTVlOTVmZTAifQ.8d157AOdoOAhmFvh68u_7UiiwUwcFpGqsCAVlKpHttc\r\n// Possible themes\r\n/*\r\n{\r\n      \"THEMENAME\": \"Recycling Bins\",\r\n      \"QUERYNAME\": \"recyclingbins\",\r\n      \"ICON\": \"recycle1a.jpg\"\r\n    },\r\n    {\r\n      \"THEMENAME\": \"Cash For Trash\",\r\n      \"QUERYNAME\": \"cashfortrash\",\r\n      \"ICON\": \"cash for trash.jpg\"\r\n    },\r\n    {\r\n      \"THEMENAME\": \"E-waste Recycling\",\r\n      \"QUERYNAME\": \"ewaste\",\r\n      \"ICON\": \"ewaste.jpg\"\r\n    },\r\n\r\n*/\r\n\r\n\r\nvar basemap = L.tileLayer('https://maps-{s}.onemap.sg/v3/Original/{z}/{x}/{y}.png', {\r\n    detectRetina: true,\r\n    maxZoom: 18,\r\n    minZoom: 11,\r\n    //Do not remove this attribution\r\n    attribution: '<img src=\"https://docs.onemap.sg/maps/images/oneMap64-01.png\" style=\"height:20px;width:20px;\"/> New OneMap | Map data &copy; contributors, <a href=\"http://SLA.gov.sg\">Singapore Land Authority</a>'\r\n  });\r\n\r\n\r\nvar myIcon = L.icon({\r\n    iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\r\n    iconSize: [21,41],\r\n    iconAnchor: [12.5,41],\r\n    popupAnchor: [0,-41]\r\n})\r\n\r\n\r\nclass Onemap extends Component{\r\n    \r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            lat: '',\r\n            lng: '',\r\n            zoom: 16.5,\r\n            bins: {}\r\n        }\r\n        this.getLocation = this.getLocation.bind(this)\r\n        this.getCoordinates = this.getCoordinates.bind(this)\r\n        this.ThemeDetails = this.ThemeDetails.bind(this)\r\n    }\r\n\r\n    // This is for Onemap Theme API, updates bins in state\r\n    ThemeDetails(){\r\n        fetch(\"https://developers.onemap.sg/privateapi/themesvc/retrieveTheme?queryName=recyclingbins&token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjM5NjIsInVzZXJfaWQiOjM5NjIsImVtYWlsIjoiYW5kcmV3d2VlOTdAZ21haWwuY29tIiwiZm9yZXZlciI6ZmFsc2UsImlzcyI6Imh0dHA6XC9cL29tMi5kZmUub25lbWFwLnNnXC9hcGlcL3YyXC91c2VyXC9zZXNzaW9uIiwiaWF0IjoxNTgyNDczNjM1LCJleHAiOjE1ODI5MDU2MzUsIm5iZiI6MTU4MjQ3MzYzNSwianRpIjoiZTE0NzhmNmVkYjRlOTdhNmQ1YmU3MWIyOTVlOTVmZTAifQ.8d157AOdoOAhmFvh68u_7UiiwUwcFpGqsCAVlKpHttc\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    this.setState({\r\n                        bins: result.SrchResults\r\n                    })\r\n                }      \r\n            )\r\n    }\r\n\r\n\r\n    // These are for geolocation\r\n    getLocation(){\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(this.getCoordinates)\r\n        }\r\n        else{\r\n            console.log(\"Error\")\r\n        }\r\n    }\r\n    \r\n    getCoordinates(position){\r\n        this.setState({\r\n            lat: Number(position.coords.latitude),\r\n            lng: Number(position.coords.longitude)\r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        this.getLocation()\r\n        const position = [this.state.lat, this.state.lng]\r\n\r\n        // Locations of bins can be seen through console log\r\n        // Need to clean up data before markers can be placed, may be too many though :)\r\n        // Also need to figure out how to filter on the map\r\n        this.ThemeDetails()\r\n        console.log(this.state.bins)\r\n        \r\n\r\n        return (\r\n            <div>\r\n            <Map className=\"map\" center={position} zoom={this.state.zoom}>\r\n                <TileLayer\r\n                    attribution='<img src=\"https://docs.onemap.sg/maps/images/oneMap64-01.png\" style=\"height:20px;width:20px;\"/> New OneMap | Map data &copy; contributors, <a href=\"http://SLA.gov.sg\">Singapore Land Authority</a>'\r\n                    url='https://maps-{s}.onemap.sg/v3/Original/{z}/{x}/{y}.png'\r\n                />\r\n                \r\n                {/*\r\n                -- This is the original leafletjs version of map, just for reference --\r\n                <TileLayer\r\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />*/}\r\n                \r\n                <Marker position={position} icon={myIcon}>\r\n                    <Popup>\r\n                    You are here! <br /> Location done by HTML5 geolocation, may not be accurate\r\n                    </Popup>\r\n                </Marker>\r\n            </Map>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Onemap","import React from 'react';\nimport './App.css';\nimport Home from './components/Home.js'\nimport Wasteitems from './components/Wasteitem.js'\nimport Confirmation from './components/Confirmation.js'\nimport History from './components/History.js'\nimport GoogleMapPage from './googlemaps/googlemaps.js'\nimport Onemap from './onemap/onemap.js'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\n\n// This is a functional component. If you need additional functionaility, it can be changed to a \n// class based component. As of now, its just a glorified routing thing so not necessary.\n// If you look at index.js, <App /> is called there which basicallly renders this on the screen.\n// In this version, I did not use this method to render stuff on the screen, though it is possible.\n// You can pass in Props when you call components using the <App /> method too if I'm not mistaken.\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n          <Switch>\n            {/* Exact used for home path because if you don't everything directs there */}\n            <Route path=\"/\" exact component={Home}/>\n            <Route path=\"/waste-items\" component={Wasteitems}/>\n            <Route path=\"/confirmation\" component={Confirmation}/>\n\n            {/* There is currently no link/button to History. You can access it manually by\n                typing '/history' to the end of 'localhost:3000'. I have only ever worked with \n                API calls to MySQL (not even sure if it counts as API) but I used a secondary router\n                for that. Just keep in mind for when you try to link to data.gov API, may have to use\n                another router. */}\n            <Route path=\"/history\" component={History}/>\n            <Route path=\"/map\" component={GoogleMapPage}/>\n            <Route path=\"/onemap\" component={Onemap}/>\n          </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'leaflet/dist/leaflet.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}